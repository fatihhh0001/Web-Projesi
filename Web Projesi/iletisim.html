<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>İletişim Formu</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <!-- Vue.js 3.5.14 (CDN) -->
    <link rel="stylesheet" href="docscss/iletisim.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue@3.5.14/dist/vue.global.prod.js"></script>
  </head>
  <body>
    <nav class="navbar sticky-top navbar-expand-lg custom-iletisim">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Ana Sayfa</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="hakkinda.html"
                >Hakkında</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="ozgecmis.html">Özgeçmiş</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sehrimiz.html">Şehrimiz</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="mirasimiz.html">Mirasımız</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Daha Fazla
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="ilgialan.html"
                    >İlgi Alanlarım</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="iletisim.html">İletişim</a>
                </li>
                <li><a class="dropdown-item" href="login.html">Login</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!---->

    <div class="container mt-5">
      <h1 class="text-center mb-4">İletişim Formu</h1>
      <div id="app">
        <form @submit.prevent="submitForm" class="p-4 border rounded">
          <!-- Ad -->
          <div class="mb-3">
            <label for="name" class="form-label">Ad</label>
            <input
              type="text"
              class="form-control"
              id="name"
              v-model="form.name"
            />
            <div v-if="errors.name" class="text-danger">{{ errors.name }}</div>
          </div>
          <!-- E-posta -->
          <div class="mb-3">
            <label for="email" class="form-label">E-posta</label>
            <input
              type="email"
              class="form-control"
              id="email"
              v-model="form.email"
            />
            <div v-if="errors.email" class="text-danger">
              {{ errors.email }}
            </div>
          </div>
          <!-- Telefon -->
          <div class="mb-3">
            <label for="phone" class="form-label">Telefon</label>
            <input
              type="tel"
              class="form-control"
              id="phone"
              v-model="form.phone"
            />
            <div v-if="errors.phone" class="text-danger">
              {{ errors.phone }}
            </div>
          </div>
          <!-- Tarih -->
          <div class="mb-3">
            <label for="date" class="form-label">Tarih</label>
            <input
              type="date"
              class="form-control"
              id="date"
              v-model="form.date"
            />
            <div v-if="errors.date" class="text-danger">{{ errors.date }}</div>
          </div>
          <!-- Saat -->
          <div class="mb-3">
            <label for="time" class="form-label">Saat</label>
            <input
              type="time"
              class="form-control"
              id="time"
              v-model="form.time"
            />
            <div v-if="errors.time" class="text-danger">{{ errors.time }}</div>
          </div>
          <!-- Mesaj -->
          <div class="mb-3">
            <label for="message" class="form-label">Mesaj</label>
            <textarea
              class="form-control"
              id="message"
              v-model="form.message"
              rows="4"
            ></textarea>
            <div v-if="errors.message" class="text-danger">
              {{ errors.message }}
            </div>
          </div>
          <!-- Cinsiyet -->
          <div class="mb-3">
            <label class="form-label">Cinsiyet</label>
            <div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  id="male"
                  value="Erkek"
                  v-model="form.gender"
                />
                <label class="form-check-label" for="male">Erkek</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  id="female"
                  value="Kadın"
                  v-model="form.gender"
                />
                <label class="form-check-label" for="female">Kadın</label>
              </div>
            </div>
            <div v-if="errors.gender" class="text-danger">
              {{ errors.gender }}
            </div>
          </div>
          <!-- Hobiler -->
          <div class="mb-3">
            <label class="form-label">Hobiler</label>
            <div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="football"
                  value="Futbol"
                  v-model="form.hobbies"
                />
                <label class="form-check-label" for="football">Futbol</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="basketball"
                  value="Basketbol"
                  v-model="form.hobbies"
                />
                <label class="form-check-label" for="basketball"
                  >Basketbol</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="volleyball"
                  value="Voleybol"
                  v-model="form.hobbies"
                />
                <label class="form-check-label" for="volleyball"
                  >Voleybol</label
                >
              </div>
            </div>
            <div v-if="errors.hobbies" class="text-danger">
              {{ errors.hobbies }}
            </div>
          </div>
          <!-- Şifre -->
          <div class="mb-3">
            <label for="password" class="form-label">Şifre</label>
            <input
              type="password"
              class="form-control"
              id="password"
              v-model="form.password"
            />
            <div v-if="errors.password" class="text-danger">
              {{ errors.password }}
            </div>
          </div>
          <!-- Butonlar -->
          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Gönder</button>
            <button type="button" class="btn btn-secondary" @click="resetForm">
              Temizle
            </button>
          </div>
        </form>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <!-- Vue.js Uygulaması -->
    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            form: {
              name: "",
              email: "",
              phone: "",
              date: "",
              time: "",
              message: "",
              gender: "",
              hobbies: [],
              password: "",
            },
            errors: {
              name: "",
              email: "",
              phone: "",
              date: "",
              time: "",
              message: "",
              gender: "",
              hobbies: "",
              password: "",
            },
          };
        },
        methods: {
          validateForm() {
            let isValid = true;
            this.errors = {
              name: "",
              email: "",
              phone: "",
              date: "",
              time: "",
              message: "",
              gender: "",
              hobbies: "",
              password: "",
            };

            if (!this.form.name.trim()) {
              this.errors.name = "Ad alanı zorunludur.";
              isValid = false;
            }
            if (!this.form.email.trim()) {
              this.errors.email = "E-posta alanı zorunludur.";
              isValid = false;
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email)) {
              this.errors.email = "Geçerli bir e-posta adresi giriniz.";
              isValid = false;
            }
            if (!this.form.phone.trim()) {
              this.errors.phone = "Telefon alanı zorunludur.";
              isValid = false;
            } else if (!/^\d{10,}$/.test(this.form.phone.replace(/\D/g, ""))) {
              this.errors.phone = "Telefon numarası en az 10 rakam olmalıdır.";
              isValid = false;
            }
            if (!this.form.date) {
              this.errors.date = "Tarih alanı zorunludur.";
              isValid = false;
            }
            if (!this.form.time) {
              this.errors.time = "Saat alanı zorunludur.";
              isValid = false;
            }
            if (!this.form.message.trim()) {
              this.errors.message = "Mesaj alanı zorunludur.";
              isValid = false;
            }
            if (!this.form.gender) {
              this.errors.gender = "Cinsiyet seçimi zorunludur.";
              isValid = false;
            }
            if (this.form.hobbies.length === 0) {
              this.errors.hobbies = "En az bir hobi seçmelisiniz.";
              isValid = false;
            }
            if (!this.form.password) {
              this.errors.password = "Şifre alanı zorunludur.";
              isValid = false;
            } else if (this.form.password.length < 6) {
              this.errors.password = "Şifre en az 6 karakter olmalıdır.";
              isValid = false;
            }

            return isValid;
          },
          submitForm() {
            if (this.validateForm()) {
              const params = new URLSearchParams({
                name: this.form.name,
                email: this.form.email,
                phone: this.form.phone,
                date: this.form.date,
                time: this.form.time,
                message: this.form.message,
                gender: this.form.gender,
                hobbies: this.form.hobbies.join(","),
                password: this.form.password,
              }).toString();
              window.location.href = `result.html?${params}`;
            }
          },
          resetForm() {
            this.form = {
              name: "",
              email: "",
              phone: "",
              date: "",
              time: "",
              message: "",
              gender: "",
              hobbies: [],
              password: "",
            };
            this.errors = {
              name: "",
              email: "",
              phone: "",
              date: "",
              time: "",
              message: "",
              gender: "",
              hobbies: "",
              password: "",
            };
          },
        },
      }).mount("#app");
    </script>
  </body>
</html>
